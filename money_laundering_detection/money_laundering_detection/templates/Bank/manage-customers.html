<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Manage Customers</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f8f9fa; }
    .navbar {
      background: #2c3e50;
      padding: 12px;
    }
    .navbar a {
      color: #fff;
      margin: 0 12px;
      text-decoration: none;
    }
    .container { padding: 20px; }
    h2 { margin-bottom: 15px; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: left;
    }
    th {
      background: #34495e;
      color: #fff;
    }
    .btn {
      padding: 5px 10px;
      border: none;
      cursor: pointer;
      border-radius: 4px;
      font-size: 14px;
    }
    .btn-grant {
      background: #27ae60;
      color: white;
    }
    .btn-deny {
      background: #c0392b;
      color: white;
    }
    .btn-link {
      background: #2980b9;
      color: white;
      text-decoration: none;
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
    }
    .search-box {
      margin-bottom: 10px;
      display: flex;
      justify-content: flex-end;
    }
    .search-box input {
      padding: 6px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin-right: 5px;
    }
    .search-box button {
      padding: 6px 12px;
      background: #2c3e50;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 8px;
      width: 400px;
      text-align: left;
    }
    .modal h3 { margin-top: 0; }
    .close-btn {
      float: right;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
      color: #c0392b;
    }
  </style>
</head>
<body>
  <div class="navbar">
    <a href="bank-dashboard.html">Add Officer</a>
    <a href="manage-customers.html">Manage Customer</a>
    <a href="view-transactions.html">View Transactions</a>
    <a href="suspected-list.html">Suspected List</a>
    <a href="view-feedback.html">View Feedback</a>
    <a href="#" style="float:right;">Logout</a>
  </div>

  <div class="container">
    <h2>Manage Customers</h2>
    <div class="search-box">
      <input type="text" id="searchInput" placeholder="Search by Id, Name">
      <button onclick="searchCustomer()">Search</button>
    </div>
    <table id="customerTable">
      <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Date of Birth</th>
        <th>Address</th>
        <th>Contact No</th>
        <th>Email-ID</th>
        <th>Access</th>
        <th>Action</th>
      </tr>
      <tr>
        <td>1001</td>
        <td>Amey</td>
        <td>25/01/2000</td>
        <td>Ashok Nagar, Kandivali(E), Mumbai-400101</td>
        <td>9871236540</td>
        <td>amey.khambe@gmail.com</td>
        <td>Granted</td>
        <td>
          <button class="btn-link" onclick="showDetails(this)">Account Details</button>
          <button class="btn btn-deny" onclick="toggleAccess(this)">Deny Access</button>
        </td>
      </tr>
      <tr>
        <td>1002</td>
        <td>Nihar</td>
        <td>25/06/2006</td>
        <td>Ashok Nagar, Kandivali(E), Mumbai-400101</td>
        <td>9865321475</td>
        <td>nihar.khambe@gmail.com</td>
        <td>Denied</td>
        <td>
          <button class="btn-link" onclick="showDetails(this)">Account Details</button>
          <button class="btn btn-grant" onclick="toggleAccess(this)">Grant Access</button>
        </td>
      </tr>
      <tr>
        <td>1004</td>
        <td>Alex</td>
        <td>11/11/1998</td>
        <td>Dadar, Mumbai</td>
        <td>9865321475</td>
        <td>alex128@gmail.com</td>
        <td>Pending</td>
        <td>
          <button class="btn-link" onclick="showDetails(this)">Account Details</button>
          <button class="btn btn-grant" onclick="toggleAccess(this)">Grant Access</button>
        </td>
      </tr>
    </table>
  </div>

  <!-- Modal -->
  <div id="detailsModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal()">&times;</span>
      <h3>Customer Details</h3>
      <p><b>Id:</b> <span id="detailId"></span></p>
      <p><b>Name:</b> <span id="detailName"></span></p>
      <p><b>Date of Birth:</b> <span id="detailDob"></span></p>
      <p><b>Address:</b> <span id="detailAddress"></span></p>
      <p><b>Contact No:</b> <span id="detailContact"></span></p>
      <p><b>Email-ID:</b> <span id="detailEmail"></span></p>
      <p><b>Access:</b> <span id="detailAccess"></span></p>
    </div>
  </div>

  <script>
    // Search functionality
    function searchCustomer() {
      let input = document.getElementById("searchInput").value.toLowerCase();
      let table = document.getElementById("customerTable");
      let tr = table.getElementsByTagName("tr");

      for (let i = 1; i < tr.length; i++) {
        let rowText = tr[i].innerText.toLowerCase();
        tr[i].style.display = rowText.includes(input) ? "" : "none";
      }
    }

    // Toggle Grant/Deny button
    function toggleAccess(button) {
      if (button.classList.contains("btn-deny")) {
        button.classList.remove("btn-deny");
        button.classList.add("btn-grant");
        button.textContent = "Grant Access";
      } else {
        button.classList.remove("btn-grant");
        button.classList.add("btn-deny");
        button.textContent = "Deny Access";
      }
    }

    // Show Account Details
    function showDetails(button) {
      let row = button.parentElement.parentElement;
      document.getElementById("detailId").textContent = row.cells[0].textContent;
      document.getElementById("detailName").textContent = row.cells[1].textContent;
      document.getElementById("detailDob").textContent = row.cells[2].textContent;
      document.getElementById("detailAddress").textContent = row.cells[3].textContent;
      document.getElementById("detailContact").textContent = row.cells[4].textContent;
      document.getElementById("detailEmail").textContent = row.cells[5].textContent;
      document.getElementById("detailAccess").textContent = row.cells[6].textContent;

      document.getElementById("detailsModal").style.display = "flex";
    }

    // Close Modal
    function closeModal() {
      document.getElementById("detailsModal").style.display = "none";
    }
  </script>
</body>
</html>
